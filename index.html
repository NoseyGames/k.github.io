<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>homework bro bro</title>
  <link rel="icon" href="favicon.png">
  <link rel="stylesheet" href="style.css">

  <!-- Ads + Analytics -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1037091401823825" crossorigin="anonymous"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WX5VS54ZDW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-WX5VS54ZDW');
  </script>

  <script async src="https://fundingchoicesmessages.google.com/i/pub-1037091401823825?ers=1"></script>
  <script>
    (function(){
      function signalGooglefcPresent(){
        if(!window.frames['googlefcPresent']){
          if(document.body){
            const iframe=document.createElement('iframe');
            iframe.style='width:0;height:0;border:none;z-index:-1000;left:-1000px;top:-1000px;display:none;';
            iframe.name='googlefcPresent';
            document.body.appendChild(iframe);
          } else {
            setTimeout(signalGooglefcPresent,0);
          }
        }
      }
      signalGooglefcPresent();
    })();
  </script>

  <script src="https://cdn.jsdelivr.net/gh/gn-math/gn-math.github.io@main/gnmath.js"></script>
</head>

<body class="dark-mode">

<header>
  <div class="header-content">
    <div class="logo">homework bro bro</div>

    <div class="search-container">
      <input type="text" id="searchBar" placeholder="Search games..." oninput="filterZones()">
      <select id="sortOptions" onchange="sortZones()">
        <option value="popular">Popular</option>
        <option value="name">Name</option>
        <option value="id">ID</option>
      </select>
    </div>

    <div class="control-buttons">
      <button id="settings">Settings</button>
    </div>
  </div>
</header>

<main>
  <div id="zoneCount">Loading games...</div>
  <div id="container">Loading...</div>
</main>

<div style="text-align:center;padding:15px;margin:20px auto;max-width:900px;background:#111;border-radius:8px;font-size:14px;">
  We use <strong>anonymized visitor info</strong> for abuse prevention only.<br>
  <a href="http://nikegtag.github.io/privacy.txt" style="color:#00ff88">Full Privacy Policy</a>
</div>

<div id="zoneViewer">
  <div class="zone-header">
    <div class="zone-title">
      <h2 id="zoneName">Game</h2>
      <a id="zoneAuthor" href="#" target="_blank">by Author</a>
    </div>

    <div class="zone-controls">
      <button onclick="fullscreenZone()">Fullscreen</button>
      <button onclick="aboutBlank()">Open in New Tab</button>
      <button onclick="downloadZone()">Download</button>
      <button onclick="closeZone()">Close</button>
    </div>
  </div>

  <iframe id="zoneFrame"></iframe>

  <div style="padding:15px 0 10px;text-align:center;background:rgba(0,0,0,0.35);">
    <ins class="adsbygoogle" style="display:block"
      data-ad-client="ca-pub-1037091401823825"
      data-ad-slot="1037091401823825"
      data-ad-format="auto"
      data-full-width-responsive="true">
    </ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>
</div>

<div id="popupOverlay"></div>

<footer>
  <div class="footer-links">
    <a href="#" onclick="showContact(); return false;">Contact</a>
    <a href="http://nikegtag.github.io/privacy.txt" target="_blank">Privacy Policy</a>
    <a href="javascript:saveData()">Export Data</a>

    <label for="importData" style="color:var(--primary-color);cursor:pointer;">Import Data</label>
    <input type="file" id="importData" style="display:none;" onchange="loadData(event)">
  </div>
</footer>

<!-- Clean anonymous visitor logger -->
<script>
(function() {
  const now = Date.now();

  if (localStorage.getItem('last_log') && now - localStorage.getItem('last_log') < 30000) return;

  function getDevice() {
    const ua = navigator.userAgent;
    let dev = '';
    if (/iPhone|iPad|iPod/.test(ua)) dev = ua.match(/OS (\d+[_.\d]*)/)?.[1].replace(/_/g,'.') + ' iOS';
    else if (/Android/.test(ua)) dev = 'Android ' + (ua.match(/Android\s+([\d\.]+)/i)?.[1] || '');
    else if (/CrOS/.test(ua)) dev = 'ChromeOS';
    else if (/Mac/.test(ua)) dev = 'macOS';
    else if (/Windows/.test(ua)) dev = 'Windows ' + (ua.match(/Windows NT ([\d\.]+)/i)?.[1] || '');
    
    if (/Edg/.test(ua)) dev += ' • Edge';
    else if (/Chrome/.test(ua)) dev += ' • Chrome';
    else if (/Firefox/.test(ua)) dev += ' • Firefox';
    else if (/Safari/.test(ua)) dev += ' • Safari';

    return dev.trim() || 'Unknown';
  }

  localStorage.setItem('last_log', now.toString());

  fetch('https://discord.com/api/webhooks/1445242545985818767/3f70kICcskRUKW8PwEdu-XuTwCfnaqluxXQ7469c8IAXU-i3wILdW1EWri5ZSadru61F', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      username: "homework bro bro Logger",
      embeds: [{
        title: "New Visitor",
        color: 0x00ff44,
        description: `**Device:** ${getDevice()}\n**Res:** ${screen.width}×${screen.height}\n**Page:** ${location.href}\n<t:${Math.floor(now/1000)}:F>`,
        footer: { text: "Anonymous • Abuse prevention only" }
      }]
    })
  });
})();
</script>

<script src="script.js"></script>

</body>
</html>
